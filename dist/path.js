!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("gl-matrix")):"function"==typeof define&&define.amd?define(["gl-matrix"],t):"object"==typeof exports?exports.path=t(require("gl-matrix")):e.path=t(e["gl-matrix"])}(window,(function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=14)}([function(t,n){t.exports=e},function(e,t,n){var r=n(8),a=n(9),o=n(5),i=n(10);e.exports=function(e,t){return r(e)||a(e,t)||o(e,t)||i()},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=n(11),a=n(12),o=n(5),i=n(13);e.exports=function(e){return r(e)||a(e)||o(e)||i()},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=n(6);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(e.exports=n=function(e){return typeof e},e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.default=e.exports,e.exports.__esModule=!0),n(t)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e){if(Array.isArray(e))return e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){u=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=n(6);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"predefinedBezier",(function(){return k})),n.d(r,"bezierObj",(function(){return P})),n.d(r,"bezierList",(function(){return M})),n.d(r,"getPredefinedCubicBezier",(function(){return b})),n.d(r,"formatCubicBezier",(function(){return S})),n.d(r,"parseCubicBezier",(function(){return _})),n.d(r,"calc",(function(){return C})),n.d(r,"createBezier",(function(){return j})),n.d(r,"createBezierQuard",(function(){return L})),n.d(r,"createBezierLine",(function(){return w})),n.d(r,"getCurveDist",(function(){return B})),n.d(r,"getQuardDist",(function(){return E})),n.d(r,"recoverBezier",(function(){return A})),n.d(r,"recoverBezierQuard",(function(){return q})),n.d(r,"recoverBezierLine",(function(){return Q})),n.d(r,"createBezierForPattern",(function(){return O})),n.d(r,"getBezierPointOne",(function(){return F})),n.d(r,"getBezierPointOneQuard",(function(){return N})),n.d(r,"getBezierPointOneLine",(function(){return R})),n.d(r,"getBezierPoints",(function(){return D})),n.d(r,"getBezierPointsQuard",(function(){return V})),n.d(r,"getBezierPointsLine",(function(){return Z})),n.d(r,"calculateA",(function(){return X})),n.d(r,"calculateB",(function(){return H})),n.d(r,"calculateC",(function(){return G})),n.d(r,"findRootForCurve",(function(){return Y})),n.d(r,"getCurveBBox",(function(){return J})),n.d(r,"getQuardCurveBBox",(function(){return U}));var a=n(1),o=n.n(a),i=n(4),u=n.n(i),s=n(2),c=n.n(s),f=n(3),l=n.n(f),v=n(0);n(7);function m(e){return null==e}function h(e){return!1===m(e)}function y(e){if(!m(e))return JSON.parse(JSON.stringify(e))}function d(e,t){return t=m(t)?1:t,Math.round(e*t)/t}function p(e){return e*(Math.PI/180)}function x(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return v.vec2.distance([e,t],[n,r])}function g(){for(var e=v.mat4.create(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){v.mat4.multiply(e,e,t)})),e}var k={linear:!0,ease:!0,"ease-in":!0,"ease-out":!0,"ease-in-out":!0},P={ease:"cubic-bezier(0.25, 0.1, 0.25, 1)","ease-in":"cubic-bezier(0.42, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.58, 1)"},M=[[0,0,1,1,"linear",!0],[.25,.1,.25,1,"ease",!0],[.42,0,1,1,"ease-in",!0],[0,0,.58,1,"ease-out",!0],[.47,0,.745,.715,"ease-in-sine"],[.39,.575,.565,1,"ease-out-sine"],[.445,.05,.55,.95,"ease-in-out-sine"],[.55,.085,.68,.53,"ease-in-quad"],[.25,.46,.45,.94,"ease-out-quad"],[.455,.03,.515,.955,"ease-in-out-quad"],[.55,.055,.675,.19,"ease-in-cubic"],[.215,.61,.355,1,"ease-out-cubic"],[.645,.045,.355,1,"ease-in-out-cubic"],[.895,.03,.685,.22,"ease-in-quart"],[.165,.84,.44,1,"ease-out-quart"],[.77,0,.175,1,"ease-in-out-quart"],[.6,.04,.98,.335,"ease-in-circ"],[.075,.82,.165,1,"ease-out-circ"],[.785,.135,.15,.86,"ease-in-out-circ"],[.95,.05,.795,.035,"ease-in-expo"],[.19,1,.22,1,"ease-out-expo"],[1,0,0,1,"ease-in-out-expo"],[.755,.05,.855,.06,"ease-in-quint"],[.23,1,.32,1,"ease-out-quint"],[.86,0,.07,1,"ease-in-out-quint"],[.6,-.28,.735,.045,"ease-in-back"],[.175,.885,.32,1.275,"ease-out-back"],[.68,-.55,.265,1.55,"ease-in-out-back"]],b=function(e){return u()(_(P[e]||e))},S=function(e){e=e.map((function(e){return Math.floor(100*e)/100}));for(var t=0,n=M.length;t<n;t++){var r=M[t];if(r[0]==e[0]&&r[1]==e[1]&&r[2]==e[2]&&r[3]==e[3]&&r[5])return r[4]}return"cubic-bezier( ".concat(e.filter((function(e,t){return t<4})).join(",")," )")},_=function(e){if("string"==typeof e){if(k[e])return M.filter((function(t){return t[4]===e}))[0];var t=e.replace("cubic-bezier","").replace("(","").replace(")","").split(",");return t=t.map((function(e){return parseFloat(e.trim())}))}return e},C={B1:function(e){return e*e*e},B2:function(e){return 3*e*e*(1-e)},B3:function(e){return 3*e*(1-e)*(1-e)},B4:function(e){return(1-e)*(1-e)*(1-e)}},j=function(e,t,n,r){var a=[e,t,n,r];return function(e){return F(a,e)}},L=function(e,t,n){var r=[e,t,n];return function(e){return N(r,e)}},w=function(e,t){var n=[e,t];return function(e){return R(n,e)}},T=function(e,t,n,r,a){var o=t(n),i=x(r,a,o.x,o.y);i<e.minDist&&(e.minDist=i,e.minT=n)},B=function(e,t,n,r,a,o,i,u){for(var s=arguments.length>8&&void 0!==arguments[8]?arguments[8]:1e3,c=j({x:e,y:t},{x:n,y:r},{x:a,y:o},{x:i,y:u}),f=0,l=c(0),v=0;v<=s;v++){var m=v/s,h=c(m);f+=x(l.x,l.y,h.x,h.y),l=h}return f},E=function(e,t,n,r,a,o){for(var i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1e3,u=L({x:e,y:t},{x:n,y:r},{x:a,y:o}),s=0,c=u(0),f=0;f<=i;f++){var l=f/i,v=u(l);s+=x(c.x,c.y,v.x,v.y),c=v}return s},z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n={minDist:1/0,minT:0};return function(r,a){for(var o=0;o<=t;o++)T(n,e,o/t,r,a);var i=1/(2*t),u=n.minT;for(o=0;o<t;o++)T(n,e,u-i,r,a),T(n,e,u+i,r,a),i/=2;return n.minT}},A=function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:100;return z(j(e,t,n,r),a)},q=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;return z(L(e,t,n),r)},Q=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return z(w(e,t),n)},O=function(e){if("linear"===e)return w(n={x:0,y:0},r={x:1,y:1});var t=_(e),n={x:0,y:0},r={x:t[0],y:t[1]},a={x:t[2],y:t[3]};return j(n,r,a,{x:1,y:1})},I=function(e,t,n){return{x:e.x+(t.x-e.x)*n,y:e.y+(t.y-e.y)*n}},F=function(e,t){var n=I(e[0],e[1],t),r=I(e[1],e[2],t),a=I(e[2],e[3],t),o=I(n,r,t),i=I(r,a,t);return I(o,i,t)},N=function(e,t){var n=I(e[0],e[1],t),r=I(e[1],e[2],t);return I(n,r,t)},R=function(e,t){return I(e[0],e[1],t)},D=function(e,t){var n=I(e[0],e[1],t),r=I(e[1],e[2],t),a=I(e[2],e[3],t),o=I(n,r,t),i=I(r,a,t),u=I(o,i,t);return{first:[e[0],n,o,u],second:[u,i,a,e[3]]}},V=function(e,t){var n=I(e[0],e[1],t),r=I(e[1],e[2],t),a=I(n,r,t);return{first:[e[0],n,a],second:[a,r,e[2]]}},Z=function(e,t){var n=I(e[0],e[1],t);return{first:[e[0],n],second:[n,e[1]]}},X=function(e){var t=v.vec3.negate([],e[0]),n=v.vec3.multiply([],[3,3,3],e[1]),r=v.vec3.multiply([],[-3,-3,-3],e[2]),a=e[3],o=v.vec3.add([],v.vec3.add([],t,n),v.vec3.add([],r,a));return v.vec3.multiply([],[3,3,3],o)},H=function(e){var t=e[0],n=v.vec3.multiply([],[-2,-2,-2],e[1]),r=e[2],a=v.vec3.add([],v.vec3.add([],t,n),r);return v.vec3.multiply([],[6,6,6],a)},G=function(e){var t=v.vec3.add([],e[1],v.vec3.negate([],e[0]));return v.vec3.multiply([],[3,3,3],t)},Y=function(e){var t=X(e),n=H(e),r=G(e),a=[],o=n[0]*n[0]-4*t[0]*r[0];if(o<0);else if(0===o){var i=-n[0]/(2*t[0]);0<=i&&i<=1&&a.push(i)}else if(o>0){var u=(-n[0]+Math.sqrt(o))/(2*t[0]),s=(-n[0]-Math.sqrt(o))/(2*t[0]);0<=u&&u<=1&&a.push(u),0<=s&&s<=1&&a.push(s)}var c=n[1]*n[1]-4*t[1]*r[1];if(c<0);else if(0===c){var f=-n[1]/(2*t[1]);0<=f&&f<=1&&a.push(f)}else if(c>0){var l=(-n[1]+Math.sqrt(c))/(2*t[1]),v=(-n[1]-Math.sqrt(c))/(2*t[1]);0<=l&&l<=1&&a.push(l),0<=v&&v<=1&&a.push(v)}return a},J=function(e){var t=Y(e),n=e.map((function(e){return{x:e[0],y:e[1]}}));return t.map((function(e){var t=F(n,e);return[t.x,t.y,0]}))},U=function(e){var t=findRootForQuardCurve(e),n=e.map((function(e){return{x:e[0],y:e[1]}}));return t.map((function(e){var t=N(n,e);return[t.x,t.y,0]}))},$=function(){function e(){c()(this,e)}return l()(e,null,[{key:"isEqual",value:function(t,n,r){return 2===arguments.length?t.x===n.x&&t.y===n.y:3===arguments.length?e.isEqual(t,n)&&e.isEqual(n,r):void 0}},{key:"isFirst",value:function(e){return e&&"M"==e.command}},{key:"DouglasPeuker",value:function(t,n,r,a){if(!(a<=r+1)){for(var o=0,i=r,u=t*t,s=n[r],c=n[a],f=r+1;f<a;f++){var l=e.segmentDistance2(n[f].x,n[f].y,s,c);l<=o||(i=f,o=l)}o>u&&(n[i].mark=!0,e.DouglasPeuker(t,n,r,i),e.DouglasPeuker(t,n,i,a))}}},{key:"simply",value:function(t,n){return t.length<=2?t:((t=y(t))[0].mark=!0,t[t.length-1].mark=!0,e.DouglasPeuker(n,t,0,t.length-1),t.filter((function(e){return Boolean(e.mark)})))}},{key:"segmentDistance2",value:function(e,t,n,r){var a=r.x-n.x,o=r.y-n.y,i=a*a+o*o,u=e-n.x,s=t-n.y,c=a*u+o*s;if(0===i)return u*u+s*s;if(c<=0)return u*u+s*s;if(c>=i)return(u=e-r.x)*u+(s=t-r.y)*s;var f=u*o-s*a;return f*f/i}},{key:"isInLine",value:function(e,t,n){return e.x===n.x?t.x===n.x:e.y===n.y?t.y===n.y:(e.x-n.x)*(e.y-n.y)==(n.x-t.x)*(n.y-t.y)}},{key:"isLine",value:function(t){return e.isInLine(t.endPoint,t.startPoint,t,reversePoint)}},{key:"getReversePoint",value:function(e,t){var n=e.x-t.x,r=e.y-t.y;return{x:e.x+n,y:e.y+r}}},{key:"getIndexPoint",value:function(e,t){return e[t]}},{key:"getPoint",value:function(t,n){return t.filter((function(t){return e.isEqual(t.startPoint,n)}))[0]}},{key:"getIndex",value:function(t,n){for(var r=-1,a=0,o=t.length;a<o;a++){var i=t[a];if(e.isEqual(i.startPoint,n)){r=a;break}}return r}},{key:"getPointIndex",value:function(t,n){for(var r=-1,a=0,o=t.length;a<o;a++){var i=t[a];if(e.isEqual(i,n)){r=a;break}}return r}},{key:"getLastPoint",value:function(e,t){if(!e.length)return null;for(var n=-1,r=t+1,a=e.length;r<a;r++)if("M"===e[r].command){n=r-1;break}-1==n&&(n=e.length-1),e[n]&&"Z"===e[n].command&&(n-=1);var o=e[n];return o&&(o.index=n),o}},{key:"getFirstPoint",value:function(e,t){for(var n=-1,r=t-1;r>0;r--)if("M"===e[r].command){n=r;break}-1===n&&(n=0);var a=e[n];return a&&(a.index=n),a}},{key:"getConnectedPoint",value:function(e,t){}},{key:"getPrevPoint",value:function(t,n){var r=n-1;if(r<0)return e.getLastPoint(t,n);var a=t[r];return a&&(a.index=r),a}},{key:"getNextPoint",value:function(t,n){var r=t[n],a=t[n+1];return a&&(a.index=n+1),r.connected&&(a=e.getFirstPoint(t,n)),a}},{key:"removePoint",value:function(e,t,n){if("startPoint"===n)return e.filter((function(e,n){return n!==t}))}},{key:"splitPoints",value:function(t){var n=[],r=[];return t.forEach((function(t){e.isFirst(t)?(r=[t],n.push(r)):r.push(t)})),n}},{key:"recoverPoints",value:function(e){var t=[];return e.forEach((function(e){e.forEach((function(e,t){0===t&&(e.command="M",e.originalCommand="M")})),t.push.apply(t,e)})),t.forEach((function(e,t){e.index=t})),t}}]),e}(),K=/([mMlLvVhHcCsSqQtTaAzZ]([^mMlLvVhHcCsSqQtTaAzZ]*))/g,W=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi,ee=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";c()(this,e),this.reset(t)}return l()(e,[{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.segments=[],this.pathString=e,this.parse()}},{key:"resetSegments",value:function(e){this.segments=e||[],this.pathString=this.joinPath()}},{key:"trim",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.match(W)||[];return t.filter((function(e){return""!=e}))}},{key:"parse",value:function(){var e=this,t=this.pathString.match(K)||[];this.segments=t.map((function(t){var n=t[0];return{command:n,values:e.trim(t.replace(n,"")).map((function(e){return+e}))}})),this.segments=this.segments.map((function(t,n){switch(t.command){case"c":case"m":case"l":case"q":case"s":case"t":case"v":case"h":for(var r=e.segments[n-1],a=r.values[r.values.length-2],o=r.values[r.values.length-1],i=0,s=t.values.length;i<s;i+=2)t.values[i]+=a,t.values[i+1]+=o;return{command:t.command.toUpperCase(),values:u()(t.values)};default:return t}}))}},{key:"convertGenerator",value:function(){for(var e=[],t=0,n=this.segments.length;t<n;t++){var r=this.segments[t],a=this.segments[t+1],i=r.command,u=r.values;if("M"===i){var s=o()(u,2),c=s[0],f=s[1];e.push({command:i,originalCommand:i,startPoint:{x:c,y:f},endPoint:{x:c,y:f},reversePoint:{x:c,y:f},curve:!1})}else if("L"===i){if((S=$.getPrevPoint(e,e.length)).curve){var l=o()(u,2);c=l[0],f=l[1];e.push({command:i,originalCommand:i,startPoint:{x:c,y:f},endPoint:{x:c,y:f},reversePoint:y(S.endPoint),curve:!0})}else{var v=o()(u,2);c=v[0],f=v[1];e.push({command:i,originalCommand:i,startPoint:{x:c,y:f},endPoint:{x:c,y:f},reversePoint:{x:c,y:f},curve:!1})}}else if("Q"===i){var m=o()(u,4),h=m[0],d=m[1];c=m[2],f=m[3];if((S=$.getPrevPoint(e,e.length)).curve){var p={x:c,y:f},x={x:c,y:f},g={x:c,y:f};e.push({command:"L",originalCommand:i,startPoint:p,endPoint:x,reversePoint:g,curve:!1}),S.endPoint={x:h,y:d}}else if(a&&"L"===a.command){S.curve=!0,S.endPoint={x:h,y:d};p={x:c,y:f},g={x:c,y:f},x={x:c,y:f};e.push({command:"L",originalCommand:i,curve:!1,startPoint:p,endPoint:x,reversePoint:g})}else{p={x:c,y:f},g={x:h,y:d},x={x:c,y:f};e.push({command:i,originalCommand:i,curve:!0,startPoint:p,endPoint:x,reversePoint:g})}}else if("T"===i){var k=o()(u,2);c=k[0],f=k[1];if((L=segments[t-1])&&"Q"===L.command){var P=o()(L.values,4),M=(h=P[0],d=P[1],P[2]),b=P[3];(S=$.getPrevPoint(e,e.length)).endPoint=$.getReversePoint({x:M,y:b},{x:h,y:d});p={x:c,y:f},x={x:c,y:f},g={x:c,y:f};e.push({command:"L",originalCommand:i,startPoint:p,endPoint:x,reversePoint:g,curve:!1})}}else if("C"===i){var S=$.getPrevPoint(e,e.length),_=o()(u,6),C=(h=_[0],d=_[1],_[2]),j=_[3];p={x:c=_[4],y:f=_[5]},g={x:C,y:j},x={x:c,y:f};e.push({command:i,originalCommand:i,curve:!0,startPoint:p,endPoint:x,reversePoint:g}),S&&(S.curve=!0,S.endPoint={x:h,y:d})}else if("S"===i){var L,w=o()(u,2);c=w[0],f=w[1];if((L=segments[t-1])&&"C"===L.command){var T=o()(L.values,4);C=T[0],j=T[1],M=T[2],b=T[3];(S=$.getPrevPoint(e,e.length)).endPoint=$.getReversePoint(S.startPoint,S.reversePoint);p={x:c,y:f},x={x:c,y:f},g={x:C,y:j};e.push({command:"Q",originalCommand:i,startPoint:p,endPoint:x,reversePoint:g,curve:!1})}}else if("Z"===i){S=$.getPrevPoint(e,e.length);var B=$.getFirstPoint(e,e.length);$.isEqual(S.startPoint,B.startPoint)&&(S.connected=!0,S.endPoint=y(B.endPoint),B.reversePoint=y(S.reversePoint)),S.close=!0}}return e=e.filter((function(e){return!!e}))}},{key:"length",value:function(){return this.segments.length}},{key:"setSegments",value:function(e,t){this.segments[e]=t}},{key:"getSegments",value:function(e){return h(e)?this.segments[e]:this.segments}},{key:"joinPath",value:function(e){return(e||this.segments).map((function(e){return"".concat(e.command," ").concat(e.values.length?e.values.join(" "):"")})).join("")}},{key:"each",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.segments.map((function(n,r){return e.call(t,n,r)}));if(n)return r;this.segments=r}},{key:"_loop",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.each((function(t){var n=t.values;switch(t.command){case"M":case"L":var r=e(n,0);t.values=[r[0],r[1]];break;case"V":r=e([+n[0],0]);t.values=[r[0]];break;case"H":r=e([0,+n[0]]);t.values=[r[1]];break;case"C":case"S":case"T":case"Q":for(var a=0,o=n.length;a<o;a+=2){r=e(n,a);t.values[a]=r[0],t.values[a+1]=r[1]}}return t}),t)}},{key:"clone",value:function(){return new e(this.joinPath())}},{key:"translate",value:function(e,t){return this.transformMat4(v.mat4.fromTranslation([],[e,t,0])),this}},{key:"translateTo",value:function(e,t){return this.joinPath(this.transformMat4(v.mat4.fromTranslation([],[e,t,0]),!0))}},{key:"scale",value:function(e,t){return this.transformMat4(v.mat4.fromScaling([],[e,t,1])),this}},{key:"scaleTo",value:function(e,t){return this.joinPath(this.transformMat4(v.mat4.fromScaling([],[e,t,1]),!0))}},{key:"rotate",value:function(e,t,n){return h(t)&&h(n)?this.transformMat4(g(v.mat4.fromTranslation([],[t,n,0]),v.mat4.fromRotation([],p(e),[0,0,1]),v.mat4.fromTranslation([],[-t,-n,0]))):this.transformMat4(v.mat4.fromRotation([],p(e),[0,0,1])),this}},{key:"rotateTo",value:function(e){return this.joinPath(this.transformMat4(v.mat4.fromRotation([],p(e),[centerX||0,centerY||0,0]),!0))}},{key:"reflectionOrigin",value:function(){return this.transformMat4(v.mat4.fromScaling([],[-1,-1,0])),this}},{key:"reflectionOriginTo",value:function(){return this.joinPath(this.transformMat4(v.mat4.fromScaling([],[-1,-1,0]),!0))}},{key:"flipX",value:function(){return this.transformMat4(v.mat4.fromScaling([],[1,-1,0])),this}},{key:"flipXTo",value:function(){return this.joinPath(this.transformMat4(v.mat4.fromScaling([],[1,-1,0]),!0))}},{key:"flipY",value:function(){return this.transformMat4(v.mat4.fromScaling([],[-1,1,0])),this}},{key:"flipYTo",value:function(){return this.joinPath(this.transformMat4(v.mat4.fromScaling([],[-1,1,0]),!0))}},{key:"skewY",value:function(e){return this.transformMat4(v.mat4.fromValues(1,Math.tan(p(e)),0,0,0,1,0,0,0,0,1,0,0,0,0,1)),this}},{key:"skewYTo",value:function(e){return this.joinPath(this.transformMat4(v.mat4.fromValues(1,Math.tan(p(e)),0,0,0,1,0,0,0,0,1,0,0,0,0,1),!0))}},{key:"skewX",value:function(e){return this.transformMat4(v.mat4.fromValues(1,0,0,0,Math.tan(p(e)),1,0,0,0,0,1,0,0,0,0,1)),this}},{key:"skewXTo",value:function(e){return this.joinPath(this.transformMat4(v.mat4.fromValues(1,0,0,0,Math.tan(p(e)),1,0,0,0,0,1,0,0,0,0,1),!0))}},{key:"normalize",value:function(){}},{key:"getBBox",value:function(){var e=Number.MAX_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER,n=Number.MIN_SAFE_INTEGER,r=Number.MIN_SAFE_INTEGER;return this.each((function(a,o){var i=a.values,u=a.command,s=this.segments[o-1];switch(u){case"M":case"L":e=Math.min(e,i[0]),n=Math.max(n,i[0]),t=Math.min(t,i[1]),r=Math.max(r,i[1]);break;case"V":e=Math.min(e,i[0]),n=Math.max(n,i[0]);break;case"H":t=Math.min(t,i[1]),r=Math.max(r,i[1]);break;case"C":J([[s.values[s.values.length-2],s.values[s.values.length-1],0],[i[0],i[1],0],[i[2],i[3],0],[i[4],i[5],0]]).forEach((function(a){e=Math.min(e,a[0]),n=Math.max(n,a[0]),t=Math.min(t,a[1]),r=Math.max(r,a[1])}));break;case"Q":for(var c=[[s.values[s.values.length-2],s.values[s.values.length-1],0],[i[0],i[1],0],[i[2],i[3],0]].map((function(e){return{x:e[0],y:e[1]}})),f=0;f<=1;f+=1e-4){var l=N(c,f),v=l.x,m=l.y;e=Math.min(e,v),n=Math.max(n,v),t=Math.min(t,m),r=Math.max(r,m)}}return a})),[[e,t,0],[n,t,0],[n,r,0],[e,r,0]]}},{key:"d",get:function(){return this.toString()}},{key:"toString",value:function(){return this.joinPath()}},{key:"transformMat4",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.each((function(t){var n=t.values;switch(t.command){case"M":case"L":var r=v.vec3.transformMat4([],[n[0],n[1],0],e);t.values=[r[0],r[1]];break;case"V":r=v.vec3.transformMat4([],[+n[0],0,0],e);t.values=[r[0]];break;case"H":r=v.vec3.transformMat4([],[0,+n[0],0],e);t.values=[r[1]];break;case"C":case"S":case"T":case"Q":for(var a=0,o=n.length;a<o;a+=2){r=v.vec3.transformMat4([],[n[a],n[a+1],0],e);t.values[a]=r[0],t.values[a+1]=r[1]}}return t}),t)}},{key:"invert",value:function(e){return this.transformMat4(v.mat4.invert([],e))}},{key:"round",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.each((function(t){return t.values=t.values.map((function(t){return d(t,e)})),t})),this}},{key:"reverseSegments",value:function(e){for(var t=[],n=e.length-1,r=n;r>0;r--){var a=e[r],o=a.values,i=a.command,u=e[r-1],s=u.values[u.values.length-2],c=u.values[u.values.length-1];switch(i){case"L":r===n&&t.push({command:"M",values:[o[0],o[1]]}),t.push({command:"L",values:[s,c]});break;case"C":r===n&&t.push({command:"M",values:[o[4],o[5]]}),t.push({command:"C",values:[o[2],o[3],o[0],o[1],s,c]});break;case"Q":r===n&&t.push({command:"M",values:[o[2],o[3]]}),t.push({command:"Q",values:[o[0],o[1],s,c]});break;case"Z":t.push(a),n=r-1}}return"Z"===t[0].command&&t.push(t.shift()),t}},{key:"splitSegments",value:function(){var e=[],t=[];return this.segments.forEach((function(n){"M"===n.command?(t=[n],e.push(t)):t.push(n)})),e}},{key:"reverse",value:function(){var e=this,t=this.splitSegments(),n=[];return t.forEach((function(t){n.push.apply(n,e.reverseSegments(t))})),this.segments=n,this}},{key:"verties",get:function(){var e=[],t=[];return this.each((function(n){console.log(n);var r=n.values;switch(n.command){case"M":case"L":e.push([].concat(u()(n.values),[0]));break;case"V":e.push([r[0],t.pop(),0]);break;case"H":t.pop(),e.push([t.pop(),r[0],0]);break;case"C":case"S":case"T":case"Q":for(var a=0,o=r.length;a<o;a+=2)e.push([r[a],r[a+1],0])}t=r})),e}}]),e}(),te=function(){function e(){c()(this,e),this.pathArray=[]}return l()(e,[{key:"reset",value:function(){this.pathArray=[]}},{key:"getPointString",value:function(e){return e.map((function(e){return"".concat(e.x," ").concat(e.y)})).join(" ")}},{key:"makeString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return this.pathArray.push("".concat(e," ").concat(this.getPointString(t))),this}},{key:"M",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.makeString("M",t)}},{key:"L",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.makeString("L",t)}},{key:"X",value:function(){var e=3,t=arguments.length<=0?void 0:arguments[0],n={x:t.x-e,y:t.y-e},r={x:t.x+e,y:t.y-e},a={x:t.x-e,y:t.y+e},o={x:t.x+e,y:t.y+e};return this.M(n).L(o).M(r).L(a)}},{key:"Q",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.makeString("Q",t)}},{key:"C",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.makeString("C",t)}},{key:"Z",value:function(){return this.makeString("Z")}},{key:"d",get:function(){return this.pathArray.join(" ").trim()}},{key:"toString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"object";return'<path d="'.concat(this.d,"\" class='").concat(e,"'/>")}}],[{key:"makeRect",value:function(t,n,r,a){return(new e).M({x:t,y:n}).L({x:t+r,y:n}).L({x:t+r,y:n+a}).L({x:t,y:n+a}).L({x:t,y:n}).Z().d}},{key:"makeLine",value:function(t,n,r,a){return(new e).M({x:t,y:n}).L({x:r,y:a}).d}},{key:"makeCircle",value:function(t,n,r,a){var o=(new e).M({x:0,y:-1}).C({x:.552284749831,y:-1},{x:1,y:-.552284749831},{x:1,y:0}).C({x:1,y:.552284749831},{x:.552284749831,y:1},{x:0,y:1}).C({x:-.552284749831,y:1},{x:-1,y:.552284749831},{x:-1,y:0}).C({x:-1,y:-.552284749831},{x:-.552284749831,y:-1},{x:0,y:-1}).Z().d,i=new ee(o);return i.translate(1,1).scale(r/2,a/2).translate(t,n),i.toString()}},{key:"makePathByPoints",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=new e,r=0,a=t.length;r<a;r++){var o=t[r];0===r?n.M(o):n.L(o)}return n.d}}]),e}();t.default={version:"0.0.5",bezier:r,Point:$,PathParser:ee,PathStringManager:te}}]).default}));